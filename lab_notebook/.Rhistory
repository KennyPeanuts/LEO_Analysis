setwd("~/current_research/LEO_Analysis/lab_notebook")
setwd("~/current_research/LEO_Analysis/lab_notebook")
input.T1.raw.file <- "./data/CR200Series_HSF_Weather_Table1.dat"
input.T2.raw.file <- "./data/CR200Series_HSF_Weather_Table2.dat"
output.T1.data.file <- "./data/HSF_weather_2019-09-29_T1_data.csv"
output.T2.data.file <- "./data/HSF_weather_2019-09-29_T2_data.csv"
output.clean.file <- "./data/HSF_weather_2019-09-28.csv"
metadata.file <- "./metadata/HSF_weather_2019-09-29_metadata.txt"
LP.weather.T1.raw <- readLines(input.T1.raw.file, skipNul = T)
LP.weather.T2.raw <- readLines(input.T2.raw.file, skipNul = T)
At this point the data file contains 5 lines of metadata before the data begin and the variable names are on line 2
LP.weather.T1.header <- LP.weather.T1.raw[2]
LP.weather.T2.header <- LP.weather.T2.raw[2]
LP.weather.T1.metadata <- LP.weather.T1.raw[c(1:4)]
LP.weather.T2.metadata <- LP.weather.T2.raw[c(1:4)]
LP.weather.T1.wo.head <- LP.weather.T1.raw[-c(1:4) ]
LP.weather.T2.wo.head <- LP.weather.T2.raw[-c(1:4) ]
LP.weather.T1 <- c(LP.weather.T1.header, LP.weather.T1.wo.head)
LP.weather.T2 <- c(LP.weather.T2.header, LP.weather.T2.wo.head)
writeLines(LP.weather.T1, con = output.T1.data.file)
writeLines(LP.weather.T2, con = output.T2.data.file)
LP.weather.T1 <- read.table(output.T1.data.file, header = T, sep = ",")
LP.weather.T2 <- read.table(output.T2.data.file, header = T, sep = ",")
LP.weather <- merge(LP.weather.T1, LP.weather.T2, by = "TIMESTAMP")
LP.weather$TIMESTAMP <- as.POSIXct(LP.weather$TIMESTAMP)
DATE <- as.Date(strptime(LP.weather$TIMESTAMP, format = "%Y-%m-%d"))
LP.weather <- data.frame(DATE, LP.weather)
write.table(LP.weather, file = output.clean.file, row.names = F, quote = F, sep = ",")
LP.weather.metadata <- c(LP.weather.T1.metadata, LP.weather.T2.metadata)
writeLines(LP.weather.metadata, con = metadata.file)
file.remove(output.T1.data.file, showWarnings = T)
file.remove(output.T2.data.file, showWarnings = T)
input.T1.raw.file <- "./data/CR200Series_HSF_Weather_Table1.dat"
input.T2.raw.file <- "./data/CR200Series_HSF_Weather_Table2.dat"
output.T1.data.file <- "./data/HSF_weather_2019-09-29_T1_data.csv"
output.T2.data.file <- "./data/HSF_weather_2019-09-29_T2_data.csv"
output.clean.file <- "./data/HSF_weather_2019-09-28.csv"
metadata.file <- "./metadata/HSF_weather_2019-09-29_metadata.txt"
HSF.weather.T1.raw <- readLines(input.T1.raw.file, skipNul = T)
HSF.weather.T2.raw <- readLines(input.T2.raw.file, skipNul = T)
At this point the data file contains 5 lines of metadata before the data begin and the variable names are on line 2
HSF.weather.T1.header <- HSF.weather.T1.raw[2]
HSF.weather.T2.header <- HSF.weather.T2.raw[2]
HSF.weather.T1.metadata <- HSF.weather.T1.raw[c(1:4)]
HSF.weather.T2.metadata <- HSF.weather.T2.raw[c(1:4)]
HSF.weather.T1.wo.head <- HSF.weather.T1.raw[-c(1:4) ]
HSF.weather.T2.wo.head <- HSF.weather.T2.raw[-c(1:4) ]
HSF.weather.T1 <- c(HSF.weather.T1.header, HSF.weather.T1.wo.head)
HSF.weather.T2 <- c(HSF.weather.T2.header, HSF.weather.T2.wo.head)
writeLines(HSF.weather.T1, con = output.T1.data.file)
writeLines(HSF.weather.T2, con = output.T2.data.file)
HSF.weather.T1 <- read.table(output.T1.data.file, header = T, sep = ",")
HSF.weather.T2 <- read.table(output.T2.data.file, header = T, sep = ",")
HSF.weather <- merge(HSF.weather.T1, HSF.weather.T2, by = "TIMESTAMP")
HSF.weather$TIMESTAMP <- as.POSIXct(HSF.weather$TIMESTAMP)
DATE <- as.Date(strptime(HSF.weather$TIMESTAMP, format = "%Y-%m-%d"))
HSF.weather <- data.frame(DATE, HSF.weather)
write.table(HSF.weather, file = output.clean.file, row.names = F, quote = F, sep = ",")
HSF.weather.metadata <- c(HSF.weather.T1.metadata, HSF.weather.T2.metadata)
writeLines(HSF.weather.metadata, con = metadata.file)
metadata.file <- "./metadata/HSF_weather_2019-09-29_metadata.txt"
HSF.weather.T1.raw <- readLines(input.T1.raw.file, skipNul = T)
HSF.weather.T2.raw <- readLines(input.T2.raw.file, skipNul = T)
At this point the data file contains 5 lines of metadata before the data begin and the variable names are on line 2
HSF.weather.T1.header <- HSF.weather.T1.raw[2]
HSF.weather.T2.header <- HSF.weather.T2.raw[2]
HSF.weather.T1.metadata <- HSF.weather.T1.raw[c(1:4)]
HSF.weather.T2.metadata <- HSF.weather.T2.raw[c(1:4)]
HSF.weather.T1.wo.head <- HSF.weather.T1.raw[-c(1:4) ]
HSF.weather.T2.wo.head <- HSF.weather.T2.raw[-c(1:4) ]
HSF.weather.T1 <- c(HSF.weather.T1.header, HSF.weather.T1.wo.head)
HSF.weather.T2 <- c(HSF.weather.T2.header, HSF.weather.T2.wo.head)
writeLines(HSF.weather.T1, con = output.T1.data.file)
writeLines(HSF.weather.T2, con = output.T2.data.file)
HSF.weather.T1 <- read.table(output.T1.data.file, header = T, sep = ",")
HSF.weather.T2 <- read.table(output.T2.data.file, header = T, sep = ",")
HSF.weather <- merge(HSF.weather.T1, HSF.weather.T2, by = "TIMESTAMP")
HSF.weather$TIMESTAMP <- as.POSIXct(HSF.weather$TIMESTAMP)
DATE <- as.Date(strptime(HSF.weather$TIMESTAMP, format = "%Y-%m-%d"))
HSF.weather <- data.frame(DATE, HSF.weather)
write.table(HSF.weather, file = output.clean.file, row.names = F, quote = F, sep = ",")
HSF.weather.metadata <- c(HSF.weather.T1.metadata, HSF.weather.T2.metadata)
writeLines(HSF.weather.metadata, con = metadata.file)
metadata.file <- "./metadata/HSF_weather_2019-09-29_metadata.txt"
writeLines(HSF.weather.metadata, con = metadata.file)
metadata.file <- "./data/metadata/HSF_weather_2019-09-29_metadata.txt"
HSF.weather.metadata <- c(HSF.weather.T1.metadata, HSF.weather.T2.metadata)
writeLines(HSF.weather.metadata, con = metadata.file)
file.remove(output.T1.data.file, showWarnings = T)
file.remove(output.T2.data.file, showWarnings = T)
HSF.weather.metadata
head(HSF.weather)
max(HSF.weather$TIMESTAMP)
min(HSF.weather$TIMESTAMP)
tail(HSF.weather)
